<view class="container">
  <view class="header">
    <image class="logo" src="/image/logo/logo.png" mode="aspectFit"></image>
    <text class="title">智慧社区</text>
  </view>

  <view class="register-box">
    <view class="register-header">
      <text class="register-title">注册账号</text>
      <text class="register-desc">请填写以下信息完成注册</text>
    </view>

    <view class="form-area">
      <view class="input-group">
        <text class="label">手机号</text>
        <input class="input" type="number" placeholder="请输入手机号" maxlength="11" bindinput="onPhoneInput" value="{{phone}}" />
      </view>

      <view class="input-group code-group">
        <text class="label">验证码</text>
        <input class="input" type="number" placeholder="输入验证码" maxlength="6" bindinput="onCodeInput" value="{{code}}" />
        <view class="get-code-btn {{countdown > 0 ? 'disabled' : ''}}" bindtap="getVerificationCode">
          {{countdown > 0 ? countdown + 's' : '获取验证码'}}
        </view>
      </view>

      <view class="avatar-section">
        <text class="label">头像</text>
        <button class="avatar-wrapper" open-type="chooseAvatar" bind:chooseavatar="onChooseAvatar">
          <image class="avatar-img" src="{{userInfo.avatarUrl}}"></image>
          <view class="avatar-edit-icon">+</view>
        </button>
        <text class="avatar-tip">点击修改头像</text>
      </view>

      <view class="nickname-section">
        <text class="label">昵称</text>
        <input type="nickname" class="input nickname-input" placeholder="请输入昵称" bind:change="onNicknameChange" value="{{userInfo.nickName}}"/>
      </view>

      <button class="btn-primary" bindtap="handleRegister">注册</button>
      <view class="login-link" bindtap="goToLogin">
        <text>已有账号？去登录</text>
      </view>
    </view>
  </view>
</view>
