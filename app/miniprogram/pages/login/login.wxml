<view class="container">
  <view class="header">
    <image class="logo" src="/image/logo/logo.png" mode="aspectFit"></image>
    <text class="title">智慧社区</text>
  </view>

  <!-- 登录主要区域 -->
  <view class="login-box" wx:if="{{!showProfileInput}}">
    
    <!-- 手机号登录表单 -->
    <view class="form-area">
      <view class="input-group">
        <text class="label">手机号</text>
        <input class="input" type="number" placeholder="请输入手机号" maxlength="11" bindinput="onPhoneInput" value="{{phone}}" />
      </view>
      <view class="input-group code-group">
        <text class="label">验证码</text>
        <input class="input" type="number" placeholder="输入验证码" maxlength="6" bindinput="onCodeInput" value="{{code}}" />
        <view class="get-code-btn" bindtap="getVerificationCode">获取验证码</view>
      </view>

      <view class="user-not-exist-tip" wx:if="{{!isUserExists && phone.length === 11}}">
        <text>该手机号未注册</text>
      </view>

      <view class="button-group" wx:if="{{isUserExists}}">
        <button class="btn-primary" bindtap="handlePhoneLogin">登录</button>
      </view>
      <view class="button-group" wx:else>
        <button class="btn-primary" bindtap="goToRegister">去注册</button>
      </view>
    </view>

    <view class="divider">
      <view class="line"></view>
      <text class="text">其他方式</text>
      <view class="line"></view>
    </view>

    <view class="social-login">
      <button class="btn-wechat" bindtap="handleWechatLogin">
        微信一键登录
      </button>
    </view>
  </view>
</view>
